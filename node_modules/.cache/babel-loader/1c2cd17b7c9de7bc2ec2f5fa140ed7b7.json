{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prade\\\\Desktop\\\\developer\\\\Projects\\\\full stack not to do\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Button, Container } from \"react-bootstrap\";\nimport { AddTaskForm } from \"./components/AddTaskForm\";\nimport { ListArea } from \"./components/ListArea\";\nimport { deleteServerTask, fetchTasks, postTask, switchServerTask } from \"./components/helper/axiosHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst wklyHr = 7 * 24;\n\nfunction App() {\n  _s();\n\n  const [taskList, setTaskList] = useState([]);\n  const [ids, setIds] = useState([]);\n  useEffect(() => {\n    getTaskFromServer();\n  }, []);\n\n  const getTaskFromServer = async () => {\n    const data = await fetchTasks();\n    data.status === \"success\" && setTaskList(data.result);\n  };\n\n  const totat = taskList.reduce((acc, itme) => acc + +itme.hr, 0);\n\n  const addTask = async task => {\n    if (totat + +task.hr > wklyHr) {\n      return alert(\"Sorry sir, you don't have enough time left to fit this task.\");\n    } // send data to the server\n\n\n    const result = await postTask(task);\n    result.status === \"success\" && getTaskFromServer();\n  };\n\n  const switchTask = async (_id, type) => {\n    const data = await switchServerTask({\n      _id,\n      type\n    });\n    data.status === \"success\" && getTaskFromServer();\n  };\n\n  const handleOnCheck = e => {\n    const {\n      checked,\n      value,\n      name\n    } = e.target;\n\n    if (value === \"entry\" || value === \"bad\") {\n      let toDeleteIds = [];\n      taskList.forEach(item => {\n        if (item.type === value) {\n          toDeleteIds.push(item._id);\n        }\n      });\n\n      if (checked) {\n        // add all entry list ids\n        // console.log(taskList);\n        setIds([...ids, ...toDeleteIds]);\n      } else {\n        // romve all entry list ids\n        console.log(\"now remove the ids\");\n        const tempArgs = ids.filter(_id => !toDeleteIds.includes(_id));\n        setIds(tempArgs);\n      }\n\n      return;\n    }\n\n    console.log(value);\n\n    if (checked) {\n      // add individual item id\n      setIds([...ids, value]);\n    } else {\n      // remove individual item id\n      const filteredArg = ids.filter(id => _id !== value);\n      setIds(filteredArg);\n    }\n  };\n\n  const handleOnDelete = async () => {\n    if (!window.confirm(\"Are you sure you want to delete the selected items?\")) {\n      return;\n    }\n\n    const data = await deleteServerTask(ids);\n\n    if (data.status === \"success\") {\n      getTaskFromServer();\n      setIds([]);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center py-5\",\n        children: \"My NotTo Do List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddTaskForm, {\n        addTask: addTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListArea, {\n        ids: ids,\n        taskList: taskList,\n        switchTask: switchTask,\n        totat: totat,\n        handleOnCheck: handleOnCheck\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: ids.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleOnDelete,\n          children: \"Delete selected Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"tAWU3ReqXeDfbSN/u5mO3TXfQ8M=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Button","Container","AddTaskForm","ListArea","deleteServerTask","fetchTasks","postTask","switchServerTask","wklyHr","App","taskList","setTaskList","ids","setIds","getTaskFromServer","data","status","result","totat","reduce","acc","itme","hr","addTask","task","alert","switchTask","_id","type","handleOnCheck","e","checked","value","name","target","toDeleteIds","forEach","item","push","console","log","tempArgs","filter","includes","filteredArg","id","handleOnDelete","window","confirm","length"],"sources":["C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Button, Container } from \"react-bootstrap\";\nimport { AddTaskForm } from \"./components/AddTaskForm\";\nimport { ListArea } from \"./components/ListArea\";\nimport { deleteServerTask, fetchTasks, postTask, switchServerTask } from \"./components/helper/axiosHelper\";\n\nconst wklyHr = 7 * 24;\n\nfunction App() {\n  const [taskList, setTaskList] = useState([]);\n\n  const [ids, setIds] = useState([]);\n\n  useEffect(()=> {\n    getTaskFromServer()\n  }, [])\n\n  const getTaskFromServer = async () => {\n    const data = await fetchTasks()\n    data.status === \"success\" && setTaskList(data.result)\n  }\n\n  const totat = taskList.reduce((acc, itme) => acc + +itme.hr, 0);\n\n  const addTask = async (task) => {\n    if (totat + +task.hr > wklyHr) {\n      return alert(\n        \"Sorry sir, you don't have enough time left to fit this task.\"\n      );\n    }\n    // send data to the server\n    const result = await postTask(task)\n    result.status === \"success\" && getTaskFromServer()\n  };\n\n  const switchTask = async (_id, type) => {\n    const data = await switchServerTask({_id, type})\n\n    data.status === \"success\" && getTaskFromServer()\n  };\n\n  const handleOnCheck = (e) => {\n    const { checked, value, name } = e.target;\n    \n\n    if (value === \"entry\" || value === \"bad\") {\n      let toDeleteIds = [];\n      taskList.forEach((item) => {\n        if (item.type === value) {\n          toDeleteIds.push(item._id);\n        }\n      });\n      if (checked) {\n        // add all entry list ids\n        // console.log(taskList);\n\n        setIds([...ids, ...toDeleteIds]);\n      } else {\n        // romve all entry list ids\n        console.log(\"now remove the ids\");\n        const tempArgs = ids.filter((_id) => !toDeleteIds.includes(_id));\n        setIds(tempArgs);\n      }\n      return;\n    }\n\n    console.log(value);\n    if (checked) {\n      // add individual item id\n      setIds([...ids, value]);\n    } else {\n      // remove individual item id\n\n      const filteredArg = ids.filter((id) => _id !== value);\n      setIds(filteredArg);\n    }\n  };\n\n  const handleOnDelete = async () => {\n    if (\n      !window.confirm(\"Are you sure you want to delete the selected items?\")\n    ) {\n      return;\n    }\n    \n    const data = await deleteServerTask(ids)\n  \n   if (data.status === \"success\") {\n    getTaskFromServer()\n    setIds([]) \n  }   \n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Container>\n        <h1 className=\"text-center py-5\">My NotTo Do List</h1>\n        {/* form comp */}\n        <AddTaskForm addTask={addTask} />\n\n        <hr />\n        {/* list component */}\n        <ListArea\n          ids={ids}\n          taskList={taskList}\n          switchTask={switchTask}\n          totat={totat}\n          handleOnCheck={handleOnCheck}\n        />\n        <div className=\"mt-2\">\n          {ids.length > 0 && (\n            <Button variant=\"danger\" onClick={handleOnDelete}>\n              Delete selected Tasks\n            </Button>\n          )}\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}