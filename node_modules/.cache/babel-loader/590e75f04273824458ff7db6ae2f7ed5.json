{"ast":null,"code":"import _toConsumableArray from\"C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import\"./App.css\";import{Button,Container}from\"react-bootstrap\";import{AddTaskForm}from\"./components/AddTaskForm\";import{ListArea}from\"./components/ListArea\";import{deleteServerTask,fetchTasks,postTask,switchServerTask}from\"./components/helper/axiosHelper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var wklyHr=7*24;function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),taskList=_useState2[0],setTaskList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ids=_useState4[0],setIds=_useState4[1];useEffect(function(){getTaskFromServer();},[]);var getTaskFromServer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:data=_context.sent;data.status===\"success\"&&setTaskList(data.result);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTaskFromServer(){return _ref.apply(this,arguments);};}();var totat=taskList.reduce(function(acc,itme){return acc+ +itme.hr;},0);var addTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(task){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(totat+ +task.hr>wklyHr)){_context2.next=2;break;}return _context2.abrupt(\"return\",alert(\"Sorry sir, you don't have enough time left to fit this task.\"));case 2:_context2.next=4;return postTask(task);case 4:result=_context2.sent;result.status===\"success\"&&getTaskFromServer();case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function addTask(_x){return _ref2.apply(this,arguments);};}();var switchTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_id,type){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return switchServerTask({_id:_id,type:type});case 2:data=_context3.sent;data.status===\"success\"&&getTaskFromServer();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function switchTask(_x2,_x3){return _ref3.apply(this,arguments);};}();var handleOnCheck=function handleOnCheck(e){var _e$target=e.target,checked=_e$target.checked,value=_e$target.value;if(value===\"entry\"||value===\"bad\"){var toDeleteIds=[];taskList.forEach(function(item){if(item.type===value){toDeleteIds.push(item._id);}});if(checked){// add all entry list ids\n// console.log(taskList);\nsetIds([].concat(_toConsumableArray(ids),toDeleteIds));}else{// romve all entry list ids\nconsole.log(\"now remove the ids\");var tempArgs=ids.filter(function(_id){return!toDeleteIds.includes(_id);});setIds(tempArgs);}return;}console.log(value);if(checked){// add individual item id\nsetIds([].concat(_toConsumableArray(ids),[value]));}else{// remove individual item id\nvar filteredArg=ids.filter(function(_id){return _id!==value;});setIds(filteredArg);}};var handleOnDelete=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(window.confirm(\"Are you sure you want to delete the selected items?\")){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:_context4.next=4;return deleteServerTask(ids);case 4:data=_context4.sent;if(data.status===\"success\"){getTaskFromServer();setIds([]);}case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function handleOnDelete(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center py-5\",children:\"My NotTo Do List\"}),/*#__PURE__*/_jsx(AddTaskForm,{addTask:addTask}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(ListArea,{ids:ids,taskList:taskList,switchTask:switchTask,totat:totat,handleOnCheck:handleOnCheck}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:ids.length>0&&/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleOnDelete,children:\"Delete selected Tasks\"})})]})});}export default App;","map":{"version":3,"names":["useEffect","useState","Button","Container","AddTaskForm","ListArea","deleteServerTask","fetchTasks","postTask","switchServerTask","wklyHr","App","taskList","setTaskList","ids","setIds","getTaskFromServer","data","status","result","totat","reduce","acc","itme","hr","addTask","task","alert","switchTask","_id","type","handleOnCheck","e","target","checked","value","toDeleteIds","forEach","item","push","console","log","tempArgs","filter","includes","filteredArg","handleOnDelete","window","confirm","length"],"sources":["C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Button, Container } from \"react-bootstrap\";\nimport { AddTaskForm } from \"./components/AddTaskForm\";\nimport { ListArea } from \"./components/ListArea\";\nimport { deleteServerTask, fetchTasks, postTask, switchServerTask } from \"./components/helper/axiosHelper\";\n\nconst wklyHr = 7 * 24;\n\nfunction App() {\n  const [taskList, setTaskList] = useState([]);\n\n  const [ids, setIds] = useState([]);\n\n  useEffect(()=> {\n    getTaskFromServer()\n  }, [])\n\n  const getTaskFromServer = async () => {\n    const data = await fetchTasks()\n    data.status === \"success\" && setTaskList(data.result)\n  }\n\n  const totat = taskList.reduce((acc, itme) => acc + +itme.hr, 0);\n\n  const addTask = async (task) => {\n    if (totat + +task.hr > wklyHr) {\n      return alert(\n        \"Sorry sir, you don't have enough time left to fit this task.\"\n      );\n    }\n    // send data to the server\n    const result = await postTask(task)\n    result.status === \"success\" && getTaskFromServer()\n  };\n\n  const switchTask = async (_id, type) => {\n    const data = await switchServerTask({_id, type})\n\n    data.status === \"success\" && getTaskFromServer()\n  };\n\n  const handleOnCheck = (e) => {\n    const { checked, value } = e.target;\n    \n\n    if (value === \"entry\" || value === \"bad\") {\n      let toDeleteIds = [];\n      taskList.forEach((item) => {\n        if (item.type === value) {\n          toDeleteIds.push(item._id);\n        }\n      });\n      if (checked) {\n        // add all entry list ids\n        // console.log(taskList);\n\n        setIds([...ids, ...toDeleteIds]);\n      } else {\n        // romve all entry list ids\n        console.log(\"now remove the ids\");\n        const tempArgs = ids.filter((_id) => !toDeleteIds.includes(_id));\n        setIds(tempArgs);\n      }\n      return;\n    }\n\n    console.log(value);\n    if (checked) {\n      // add individual item id\n      setIds([...ids, value]);\n    } else {\n      // remove individual item id\n\n      const filteredArg = ids.filter((_id) => _id !== value);\n      setIds(filteredArg);\n    }\n  };\n\n  const handleOnDelete = async () => {\n    if (\n      !window.confirm(\"Are you sure you want to delete the selected items?\")\n    ) {\n      return;\n    }\n    \n    const data = await deleteServerTask(ids)\n  \n   if (data.status === \"success\") {\n    getTaskFromServer()\n    setIds([]) \n  }   \n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Container>\n        <h1 className=\"text-center py-5\">My NotTo Do List</h1>\n        {/* form comp */}\n        <AddTaskForm addTask={addTask} />\n\n        <hr />\n        {/* list component */}\n        <ListArea\n          ids={ids}\n          taskList={taskList}\n          switchTask={switchTask}\n          totat={totat}\n          handleOnCheck={handleOnCheck}\n        />\n        <div className=\"mt-2\">\n          {ids.length > 0 && (\n            <Button variant=\"danger\" onClick={handleOnDelete}>\n              Delete selected Tasks\n            </Button>\n          )}\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}