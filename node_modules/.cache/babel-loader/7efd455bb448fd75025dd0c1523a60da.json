{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prade\\\\Desktop\\\\developer\\\\Projects\\\\full stack not to do\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Button, Container } from \"react-bootstrap\";\nimport { AddTaskForm } from \"./components/AddTaskForm\";\nimport { ListArea } from \"./components/ListArea\";\nimport { deleteServerTask, fetchTasks, postTask, switchServerTask } from \"./components/helper/axiosHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst wklyHr = 7 * 24;\n\nfunction App() {\n  _s();\n\n  const [taskList, setTaskList] = useState([]);\n  const [ids, setIds] = useState([]);\n  useEffect(() => {\n    getTaskFromServer();\n  }, []);\n\n  const getTaskFromServer = async () => {\n    const data = await fetchTasks();\n    console.log(data);\n    data.status === \"success\" && setTaskList(data.result);\n  };\n\n  const totat = taskList.reduce((acc, itme) => acc + +itme.hr, 0);\n\n  const addTask = async task => {\n    if (totat + +task.hr > wklyHr) {\n      return alert(\"Sorry sir, you don't have enough time left to fit this task.\");\n    } // send data to the server\n\n\n    const result = await postTask(task);\n    result.status === \"success\" && getTaskFromServer();\n  };\n\n  const switchTask = async (_id, type) => {\n    const data = await switchServerTask({\n      _id,\n      type\n    });\n    data.status === \"success\" && getTaskFromServer();\n  };\n\n  const handleOnCheck = e => {\n    const {\n      checked,\n      value,\n      name\n    } = e.target;\n    console.log(checked, value, name);\n\n    if (value === \"entry\" || value === \"bad\") {\n      let toDeleteIds = [];\n      taskList.forEach(item => {\n        if (item.type === value) {\n          toDeleteIds.push(item.id);\n        }\n      });\n\n      if (checked) {\n        // add all entry list ids\n        // console.log(taskList);\n        setIds([...ids, ...toDeleteIds]);\n      } else {\n        // romve all entry list ids\n        console.log(\"now remove the ids\");\n        const tempArgs = ids.filter(id => !toDeleteIds.includes(id));\n        setIds(tempArgs);\n      }\n\n      return;\n    }\n\n    console.log(value);\n\n    if (checked) {\n      // add individual item id\n      setIds([...ids, value]);\n    } else {\n      // remove individual item id\n      const filteredArg = ids.filter(id => id !== value);\n      setIds(filteredArg);\n    }\n  };\n\n  const handleOnDelete = async () => {\n    if (!window.confirm(\"Are you sure you want to delete the selected items?\")) {\n      return;\n    }\n\n    const data = await deleteServerTask(ids); // data.status === \"success\" && setIds([]) && fetchTasks()\n\n    data.status === \"success\" && setIds([]) && getTaskFromServer();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center py-5\",\n        children: \"My NotTo Do List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddTaskForm, {\n        addTask: addTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListArea, {\n        ids: ids,\n        taskList: taskList,\n        switchTask: switchTask,\n        totat: totat,\n        handleOnCheck: handleOnCheck\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: ids.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleOnDelete,\n          children: \"Delete selected Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"tAWU3ReqXeDfbSN/u5mO3TXfQ8M=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Button","Container","AddTaskForm","ListArea","deleteServerTask","fetchTasks","postTask","switchServerTask","wklyHr","App","taskList","setTaskList","ids","setIds","getTaskFromServer","data","console","log","status","result","totat","reduce","acc","itme","hr","addTask","task","alert","switchTask","_id","type","handleOnCheck","e","checked","value","name","target","toDeleteIds","forEach","item","push","id","tempArgs","filter","includes","filteredArg","handleOnDelete","window","confirm","length"],"sources":["C:/Users/prade/Desktop/developer/Projects/full stack not to do/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Button, Container } from \"react-bootstrap\";\nimport { AddTaskForm } from \"./components/AddTaskForm\";\nimport { ListArea } from \"./components/ListArea\";\nimport { deleteServerTask, fetchTasks, postTask, switchServerTask } from \"./components/helper/axiosHelper\";\n\nconst wklyHr = 7 * 24;\n\nfunction App() {\n  const [taskList, setTaskList] = useState([]);\n\n  const [ids, setIds] = useState([]);\n\n  useEffect(()=> {\n    getTaskFromServer()\n  }, [])\n\n  const getTaskFromServer = async () => {\n    const data = await fetchTasks()\n    console.log(data)\n    data.status === \"success\" && setTaskList(data.result)\n  }\n\n  const totat = taskList.reduce((acc, itme) => acc + +itme.hr, 0);\n\n  const addTask = async (task) => {\n    if (totat + +task.hr > wklyHr) {\n      return alert(\n        \"Sorry sir, you don't have enough time left to fit this task.\"\n      );\n    }\n    // send data to the server\n    const result = await postTask(task)\n    result.status === \"success\" && getTaskFromServer()\n  };\n\n  const switchTask = async (_id, type) => {\n    const data = await switchServerTask({_id, type})\n\n    data.status === \"success\" && getTaskFromServer()\n  };\n\n  const handleOnCheck = (e) => {\n    const { checked, value, name } = e.target;\n    console.log(checked, value, name);\n\n    if (value === \"entry\" || value === \"bad\") {\n      let toDeleteIds = [];\n      taskList.forEach((item) => {\n        if (item.type === value) {\n          toDeleteIds.push(item.id);\n        }\n      });\n      if (checked) {\n        // add all entry list ids\n        // console.log(taskList);\n\n        setIds([...ids, ...toDeleteIds]);\n      } else {\n        // romve all entry list ids\n        console.log(\"now remove the ids\");\n        const tempArgs = ids.filter((id) => !toDeleteIds.includes(id));\n        setIds(tempArgs);\n      }\n      return;\n    }\n\n    console.log(value);\n    if (checked) {\n      // add individual item id\n      setIds([...ids, value]);\n    } else {\n      // remove individual item id\n\n      const filteredArg = ids.filter((id) => id !== value);\n      setIds(filteredArg);\n    }\n  };\n\n  const handleOnDelete = async () => {\n    if (\n      !window.confirm(\"Are you sure you want to delete the selected items?\")\n    ) {\n      return;\n    }\n    \n    const data = await deleteServerTask(ids)\n    // data.status === \"success\" && setIds([]) && fetchTasks()\n    data.status === \"success\" && setIds([]) && getTaskFromServer()\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Container>\n        <h1 className=\"text-center py-5\">My NotTo Do List</h1>\n        {/* form comp */}\n        <AddTaskForm addTask={addTask} />\n\n        <hr />\n        {/* list component */}\n        <ListArea\n          ids={ids}\n          taskList={taskList}\n          switchTask={switchTask}\n          totat={totat}\n          handleOnCheck={handleOnCheck}\n        />\n        <div className=\"mt-2\">\n          {ids.length > 0 && (\n            <Button variant=\"danger\" onClick={handleOnDelete}>\n              Delete selected Tasks\n            </Button>\n          )}\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}